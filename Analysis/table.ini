//テーブルオブジェクトの定義

配列？＝「（""＋自分）！"]" 含む？」。
テーブル＝配列！作る。

配列：getarg＝「「全部！（自分！配列？）（（自分！1 読む）！配列？）本当」！なら「自分！1 読む」そうでなければ「自分」実行」。
テーブル：作る＝「ret＝自分！create。ret：フィールド名＝_rest！getarg。ret」。
テーブル：書く＝「自分！（_rest！getarg）put」。


テーブル：ファイルから作る＝「｜fn｜
　　tf＝テキストファイル！（fn）作る。
　　dt＝tf！読む。
　　fld＝（dt！1 読む）！"," 分割。
　　ret＝テーブル！（fld）作る。
　　「｜i｜「i＞1」！なら「ret！（（dt！（i）読む）！"," 分割）書く。」実行。」！（dt！要素数？）繰り返す。
　　ret。
」。

テーブル：表示＝「| ; space max adjust_array charnum_array tmp_arr tmp_arr2 |
space="".
max=0.
adjust_array=配列！作る．
charnum_array=配列！作る．
tmp_arr=配列！作る．
tmp_arr2=配列！作る．
tmp_field=自分：フィールド名！create.
s=""．
「| i |
　max = (tmp_field！ (i) 読む)！長さ？．
　自分！「| n j | 
　「max < ((n! (i) 読む)! 長さ？）」！なら「max = （(n! (i) 読む)! 長さ？）」実行．
　」それぞれ実行．
　charnum_array！(max) 書く．
　max=0．
」！((自分！1 読む)！要素数？)　繰り返す．

charnum_array！「|n i|
　「 space=(space) + " "  」!  ((n) - ((tmp_field！(i) 読む)！長さ？)) 繰り返す．
　tmp_field！(i) ((space) + (tmp_field！(i) 読む) + " | " ) 上書き．
　space="".

　自分！「| m j ; s| 
　　s= (n) - ((m!(i) 読む)！長さ？) ．
　　「 space=(space) + " "  」! (s) 繰り返す．
　　tmp_arr！1 ( (space) + (m!(i) 読む) + " | " )  上書き．
　　tmp_arr2！ ( tmp_arr! 作る ) 書く．
　　space="".
　」それぞれ実行．

　tmp_arr2！「| m j | 
　　「i == 1」！なら「adjust_array！(m!作る) 書く．」
　　そうでなければ「
　　　(adjust_array！(j) 読む)！ (m! 1 読む) 書く．
　　」実行．
　」それぞれ実行．
　tmp_arr2！クリア．
」それぞれ実行．
　　len＝（""+（自分！1 読む））！長さ？。
　　lst＝テキストエリア！（""+（tmp_field））（「s=s+"-"」！（len*1.5）繰り返す）作る（len*11）400 大きさ。
　　lst！（adjust_array）書く。
」。

テーブル：ファイル出力＝「｜fn｜
　　tf＝テキストファイル！（fn）作る。
　　tf！（配列！作る）全部書く。
ラベル！（自分：フィールド名！要素数？）作る。
//　　tf！（自分：フィールド名！"," 結合）書く。
　　自分！「｜r｜ tf！（r！"," 結合）書く」それぞれ実行。
」。
